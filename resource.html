<!DOCTYPE html>  
<html lang="en"> 
    <head>
        <meta charset="utf-8">
        <title>HydroLink-resource</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="src_style.css" rel="stylesheet" type="text/css"> 

        <!-- fonts -->
        <link href="https://fonts.googleapis.com/css2?family=Baloo+Bhai+2&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Baloo+Bhai&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet">
    </head>

    <!-- body -->

    <body> 
        <!-- header -->
        <div class="container-header">
            <div class="container">
                <div class="title">HydroLink 2025</div>
                <div class="button-group">
                <a href="https://youtu.be/YN7TBfM2dpk?si=McInHrA9hJwhLSuj"><button type="button" class="btn1">PRESENTATION</button></a> 
                <a href="https://github.com/TYF-Phycom-Project/Project-HydroLink"><button type="button" class="btn2">DOCUMENT</button></a>
                </div>
            </div>
        </div>
 
        <!-- top page -->
        <div class="top-page">
            <div class="container1">
                <div class="txt-tainer">
                    <div class="text-center">
                        HydroLink Project
                    </div>
                    <div class="sepline"></div>
                    <div class="text-align-1">
                        <div> <a href="index.html">HOME</a> </div>
                        <div> <a href="resource.html">RESOURCE</a> </div>
                        <div> <a href="member.html">MEMBER</a> </div>
                    </div>
                </div>
                
            </div>
            
        </div>
        
        <!-- mid page -->
        <div class="mid-page">
            <div class="container2">
                <div class="txt-tainer-1">
                    <div class="text-a1">
                        HydroLink
                    </div>
                    <div class="sepline-a"></div>
                </div>
            </div>
        </div>



        <!-- sep page -->
        <div class="sep-page">
            <div class="container3">
            </div>
        </div>


        

        <!--3 mid page -->
        <div class="mid-page">
            <div class="container2-3">
                <div class="setting-box">
                    <div class="head-setting">
                        <span class="dot"></span>
                        HARDWARE
                        <div class="sepline-b"></div>
                            <div class="sett-boxes">
                            <!-- -->
                            <div class="setting-a">
                                <div class="info">
                                    <img class="pic-1" src="pics/arduino_board.webp">
                                </div>
                                <div class="text-center">
                                    <div class="name">Atduino r4 WiFi</div>
                                </div>
                            </div>
                            <!-- -->
                            <div class="setting-a">
                                <div class="info">
                                    <img class="pic-1" src="pics/waterSensor.webp">
                                </div>
                                <div class="text-center">
                                    <div class="name">Water level sensor</div>
                                </div>
                            </div>
                            <!-- -->
                            <div class="setting-a">
                                <div class="info">
                                    <img class="pic-1" src="pics/LED.webp">
                                </div>
                                <div class="text-center">
                                    <div class="name">Light</div>
                                </div>
                            </div>
                        </div>
                            <div class="sett-boxes">
                            <!-- -->
                            <div class="setting-a">
                                <div class="info">
                                    <img class="pic-1" src="pics/switch.jpg">
                                </div>
                                <div class="text-center">
                                    <div class="name">switch</div>
                                </div>
                            </div>
                            <!-- -->
                            <div class="setting-a">
                                <div class="info">
                                    <img class="pic-1" src="pics/pump.webp">
                                </div>
                                <div class="text-center">
                                    <div class="name">Water pump</div>
                                </div>
                            </div>
                            <!-- -->
                            <div class="setting-a">
                                <div class="info">
                                    <img class="pic-1" src="pics/LCD.webp">
                                </div>
                                <div class="text-center">
                                    <div class="name">LCD</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--4 mid page -->
        <div class="mid-page">
            <div class="container2-3-1">
                <div class="setting-box">
                    <div class="head-setting">
                        <span class="dot"></span>
                        DEVELOPMENT LANGUAGE
                        <div class="sepline-b"></div>
                            <div class="sett-boxes">
                            <!---->
                            <div class="setting-a">
                                <div class="info">
                                    <img class="pic-1-1" src="pics/logo-c-1.png">
                                </div>
                                <div class="text-center">
                                    <div class="name">C</div>
                                </div>
                            </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Code Display Section -->
        <div class="code-section">
            <div class="code-header">Code</div>
            <pre><code class="language-cpp">
        #include &lt;LiquidCrystal_I2C.h&gt;

        //LCD variables
        LiquidCrystal_I2C lcd(0x27, 16, 2);

        byte light_c[8] = { 
            B00000,
            B01110, 
            B11111, 
            B11111, 
            B01110, 
            B00100, 
            B01110,  
            B00000 };

        byte water_c[8] = {
            B00000,
            B00100,
            B00100, 
            B01110, 
            B11111, 
            B01110, 
            B00100,   
            B00000 };

        int light_status = 0;
        int water_status = 0;

        //Light variables
        const int light = 3;
        const int light2 = 4;
        const int light_button = 2;

        int led_state = LOW;
        int last_button_state = HIGH;
        int button_state = HIGH;

        unsigned long last_debounce_time = 0;
        unsigned long debounce_delay = 50;


        //Water variables
        const int waterSensor = A0;
        const int waterPump_Relay = 5;

        int water_level = 0;
        int min_level = 300;

        void setup() {
        Serial.begin(9600);

        pinMode(waterSensor, INPUT);
        pinMode(light_button, INPUT_PULLUP);

        pinMode(light, OUTPUT);
        pinMode(light2, OUTPUT);
        pinMode(waterPump_Relay, OUTPUT);

        lcd.init();           
        lcd.backlight();
        lcd.clear();
        }

        void loop() {

        //-------------------------LIGHT CONTROL----------------------------------
        int button_read = digitalRead(light_button); //Read the button : 0 or 1
            
        if (button_read != last_button_state) { //check is the button_read changed
            last_debounce_time = millis(); //set last time the button got push to current time im millisecond (millis() = return millisecond since arduino started)
        }

        if ((millis() - last_debounce_time) > debounce_delay) { //check if since last time the button push is more than the delay
            if (button_read != button_state) { //check if the current button read is not equal to and lastest button read 
            button_state = button_read; //set lastest button read to current button read
            
            if (button_state == LOW) { //check if the lastest button read is LOW (its pushed)
                led_state = !led_state; //change light state to opposite of light state (LOW to HIGH / HIGH to LOW)
                digitalWrite(light, led_state); 
                digitalWrite(light2, led_state);

                if (led_state == LOW){
                light_status = 0;
                }else{
                light_status = 1;
                }
            }
            }
        }

        last_button_state = button_read; //set last_button_state to current button read
        //----------------------------------------------------------------------------

        //-------------------------WATER CONTROL--------------------------------------
        int water_level = analogRead(waterSensor);//Read water sensor value
        Serial.println((water_level/100) * 100);

        if((water_level/100) * 100 &lt; min_level){//check if current water level below the minimum level
            digitalWrite(waterPump_Relay, LOW);//Turn on the water pump
            water_status = 1;
        }
        else{//if current water level above the minimum level
            digitalWrite(waterPump_Relay, HIGH);//Turn off the water pump
            water_status = 0;
        }
        //------------------------------------------------------------------------------

        //-------------------------LCD CONTROL------------------------------------------
        LCD_command(light_status, water_status);
        //------------------------------------------------------------------------------
        }

        void LCD_command(int light_status, int water_status){
        if(water_status == 0){
            lcd.createChar(1, water_c); 
            lcd.setCursor(0, 0);
            lcd.write(byte(1));
            lcd.setCursor(2, 0);
            lcd.print("WATER: FILLED");

        }
        else{
            lcd.createChar(1, water_c); 
            lcd.setCursor(0, 0);
            lcd.write(byte(1));
            lcd.setCursor(2, 0);
            lcd.print("WATER: REFILL...");
        }

        if(light_status == 0){
            lcd.createChar(2, light_c); 
            lcd.setCursor(0, 1);
            lcd.write(byte(2));
            lcd.setCursor(2, 1);
            lcd.print("LIGHT: OFF.");
        }
        else{
            lcd.createChar(2, light_c); 
            lcd.setCursor(0, 1);
            lcd.write(byte(2));
            lcd.setCursor(2, 1);
            lcd.print("LIGHT: ON. ");
        }
        }

            </code></pre>
        </div>


        <!--down page -->
        <div class="down-page">
            <div class="container2-4">
                <div class="info-box">
                    <div class="box-left">
                        POSTSCRIPT
                        <div class="sepline-c"></div>
                        <div class="txt-info">
                        This project is a study project for Physical Computing, IT KMITL.<br>
                           
                        </div>
                    </div>
                    <div class="box-right">
                        MORE
                        <div class="sepline-c1"></div>
                        <div><a class="txt-info" href="https://youtu.be/YN7TBfM2dpk?si=McInHrA9hJwhLSuj">Project Presentation</a></div>
                        <div><a class="txt-info" href="https://github.com/TYF-Phycom-Project/Project-HydroLink">Project Document</a></div>
                    </div>
                </div>
            </div>
        </div>
    </body> 

</html>
